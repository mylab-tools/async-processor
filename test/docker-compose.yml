version: '3.2'

services:
  redis:
    container_name: redis
    image: redis:6
    ports: 
    - 9111:6379

  rabbit:
    container_name: rabbit
    image: rabbitmq:3.8.3-management
    volumes:
      - ./rabbit.conf:/etc/rabbitmq/rabbitmq.conf
      - ./config/rabbitmq-definitions.json:/etc/rabbitmq/definitions/1-common.json
      - ./secrets/rabbitmq-users.json:/etc/rabbitmq/definitions/0-users.json
    ports:
      - "5672:5672"
      - "8104:15692"
    networks:
      - infonot-network
      